# APUNTES SERVICIOS DE RED 23-09-2016

### Comandos rapidos:
* Comando saber las macs dinamicamente: **arp -a**
* Fichero donde estan los DNS: **/etc/resolv.conf**
* Comando para saber la mac de una direccion ip: **nslookup www.ara.cat**

# PRACTICA 1 SERVICIOS DE RED

1. Comando para cambiar la ip: 
	* **ip addr add 172.16.0.11/24 broadcast + dev enp5s0**
	* **ping 172.16.0.10**
	
2. Comando para saber la mac de una ip especifica: **arp 172.16.0.2**
Address           |       HWtype | HWaddress         |  Flags Mask      |         Iface
------------------------------------------------------------------------------------------
172.16.0.10       |       ether  | 40:8d:5c:e4:36:fe |  C               |      enp5s0

3. Comandos para cambiar el nombre de una interfaz temporalmente:
	* **ip link set enp5s0 down**
	* **ip link set enp5s0 name ethernet0**
	* **ip link set ethernet0 up**
	* **ip a s**

4. Velocidad de transferencia:
	* [URL descarga paquete RPM de netperf](http://fr2.rpmfind.net/linux/rpm2html/search.php?query=netperf)
	* **91.39 inbound**
	* **91.45 outbound**

5. Comando para cambiar la mtu de una interfaz:
	* **ip link set ethernet0 mtu 9000**
	* **482.95 inbound**
	* **482.86 outbound**

6. Configuración ip dinamica con nmcli:
	* **nmcli con show**
	* **nmcli dev status**
	* **nmcli con add con-name net-eth0 ifname eth0 type ethernet ip4 172.16.0.11/24**

7. Sitio donde se encuentra la configuración de nombres de dominio::
	* **/etc/resolv.conf**

8. Configuración permanent modificando los ficheros ifcfg en /etc/sysconfig/network-scrips/
	* **vim /etc/sysconfig/network-scrips/**
	
># Generated by dracut initrd

>NAME="ethernet0"

>DEVICE="ethernet0"

>ONBOOT=yes

>NETBOOT=yes

>UUID="1c1dca1a-7afb-48fb-9910-e9e2e67d539c"

>IPV6INIT=yes

>BOOTPROTO=static

>IPADDR=172.16.0.11

>NETMASK=255.255.255.0

>TYPE=Ethernet
	* **nmcli con reload**
	* **nmcli con up**

9. Cambiar de manera permanent el nom d'una interficie:
vim /etc/udev/rules.d/70-persistent-net.rules
	* **SUBSYSTEM==net,ACTION=='add',DRIVERS=='?\*',ATTR(address)=='40:8d:5c:e4:36:fa', ATTR{type}=="1", KERNEL=="e*", NAME="ethernet0"**

10. Como saber la ip publica de un dominio? y viceversa?
	* **host "www.google.com"**
	* **host www.google.com**
	* **www.google.com has address 216.58.210.196**
	* **www.google.com has IPv6 address 2a00:1450:4006:804::2004**
	* **host 77.246.182.82**
	* **82.182.246.77.in-addr.arpa domain name pointer andubay.com**


